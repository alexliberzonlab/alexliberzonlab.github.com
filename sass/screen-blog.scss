@import "compass/reset";
@import "compass/css3";
@import "compass/css3/user-interface";
@import "compass/typography/vertical_rhythm";
@import "compass/utilities/general/clearfix";
@import "fonts/fontfaces";
@import "_general";
@import "_cabecerapaginaResponsive";
@import "_footerpaginaResponsive";
@import "_subnav-nueva";

$use-mozilla-ellipsis-binding: true;

@import "compass/typography/text/ellipsis";


$colorFondo: rgb(250,250,250);
$colorTextoGrisOscuro: #393939;
$colorTextoGrisClaro: #898989;
$borderGrey: #BEBEBE;
$innerborderGrey: #C9C9C9;
$greyLine: 1px solid #DADADA;



$fontTitulo:  "colaborativaMedium";
$fontSubtitulo: "DroidSansRegular";
$fontTitulo2: "colaborativasemibold";
$fontBase:  "DroidSansRegular";
$fontSmall: "DroidSansRegular";

a:link, a:visited, a:active{
	text-decoration: none;
	color: $colorTextoGrisOscuro;
}

@mixin imagestyle{
	@include box-sizing (border-box);
	background:white;
	border: 3px solid white;
	@include border-radius(2px, 2px);
	@include single-box-shadow(rgba(0,0,0,0.4), 0px, 0px, 3px, false, false);
}
html{
	height: 100%;
	body{
		@include background(image-url("/imagenes/background.png"),
							$colorFondo);
		.cuerpoPagina{
			margin-top: 125px;
			min-height: 400px;
			min-width:0px;
			.contenedor{
				margin-right: auto;
				margin-left: auto;
				@include box-sizing (border-box);
				h1.big{
					@include hiddenelement;
				}
				.portada{
					h1{
						@include hiddenelement;
					}
					.articulosLista{
						.primero{
							border-left: none;
							margin-left: 0px;
							padding-left: 0px;
							border-bottom: 1px solid $borderGrey;
							.textoArticulo{
								hgroup{
									border-bottom-color: $borderGrey;
									h3{
										color: $colorTextoGrisOscuro;
										font-family: $fontTitulo;
									}
									h4{
										position: relative;
										color: $colorTextoGrisOscuro;
										font-family: $fontSubtitulo;
									}
								}
								p{
									color: $colorTextoGrisOscuro;
									font-family: $fontBase;
									display: -webkit-box;
									text-overflow: -o-ellipsis-lastline;
									-webkit-box-orient: vertical;
									overflow: hidden;
									text-overflow: ellipsis;
								}
							}
						}
						article{
							&:hover{
								.imagenArticulo a{
									@include box-shadow(0px 0px 3px rgba(0,0,0,0.4), 0px 0px 1px 3px rgba(#1B70B9,0.3));
								}
							}
							position: relative;
							float: left;
							border-left: 1px solid $borderGrey;
							&:nth-child(2){
								border-left: none;
								margin-left: 0px;
								padding-left: 0px;
							}
							&:last-child{
								margin-right: 0px;
								padding-right: 0px;
							}
							.textoArticulo{
								h3{
									color: $colorTextoGrisOscuro;
									font-family: $fontTitulo2;
								}
								h4{
									color: $colorTextoGrisOscuro;
									font-family: $fontBase;
								}
							}
							.imagenArticulo{
								@include box-sizing (border-box);
								margin: 0;
								padding: 0;
								a{
									@include transition(box-shadow .1s linear);
									border-bottom:3px solid white;
									@include imagestyle;
									display: block;
									margin: 0;
									padding: 0;
									overflow:hidden;
									@include background-size (cover);
								}
							}
						}
					}
					.portadaPie{
						width:100%;
						display: table;
						font-family: $fontSmall;
						color: $colorTextoGrisClaro;
						.linkSubscripcion{
							display: table-cell;
							text-align: left;
						}
						.linkResto{
							display: table-cell;
							text-align: right;
						}
						a:link, a:visited, a:active{
							color: $colorTextoGrisClaro;
							text-decoration: underline;
							&:hover{
								color: $colorTextoGrisOscuro;
							}
						}
					}
				}
				.categoria{
					border-top-color: $borderGrey;
					border-bottom-color: $borderGrey;
					.categoriaDescripcion{
						float: left;
						.descripcion{
							position: relative;
							margin-right:0px;
							padding-right:0px;
							hgroup{
								border-bottom-color: $borderGrey;
								h1{
									font-family: $fontTitulo;
									color: $colorTextoGrisOscuro;
								}
								h2{
									font-family: $fontSubtitulo;
									color: $colorTextoGrisOscuro;
								}
							}
							p{
								font-family: $fontBase;
								color: $colorTextoGrisOscuro;
							}
						}
					}
					.categoriaArticulos{
						float: left;
						.articulosLista{
							article{
								&:hover{
									.imagenArticulo a{
										@include box-shadow(0px 0px 3px rgba(0,0,0,0.4), 0px 0px 1px 3px rgba(#1B70B9,0.3));
									}
								}
								position: relative;
								float: left;
								border-left: 1px solid $borderGrey;
								h3{
									color: $colorTextoGrisOscuro;
									font-family: $fontTitulo2;
									
								}
								h4{
									color: $colorTextoGrisOscuro;
									font-family: $fontBase;
								}
								.imagenArticulo{
									@include box-sizing (border-box);
									a{
										@include transition(box-shadow .1s linear);
										border-bottom:3px solid white;
										@include imagestyle;
										display: block;
										margin: 0;
										padding: 0;
										overflow:hidden;
										background-position-x: 50%;
										@include background-size (cover);
									}
								}
								&:first-child{
									border-left: none;
								}
								&:last-child{
									margin-right: 0px;
									padding-right: 0px;
								}
							}
						}
					}
					.categoriaPie{
						width:100%;
						display: table;
						font-family: $fontSmall;
						color: $colorTextoGrisClaro;
						a:link, a:visited, a:active{
							color: $colorTextoGrisClaro;
							text-decoration: underline;
							&:hover{
								color: $colorTextoGrisOscuro;
							}
						}
						.linkSubscripcion{
							padding: 0;
							margin: 0;
							display: table-cell;
							text-align: left;
						}
						.linkResto{
							padding: 0;
							margin: 0;
							display: table-cell;
							text-align: right;
						}
					}
				}
			}
		}
	} 
}
@mixin blogResponsive($totalWidth, $descriptionWidth, $columnWidth, $columnGap, $articleHeight, $baseFontSize, $baseLineSize, $fontTituloSize, $fontSubtituloSize, $fontTitulo2Size, $fontSmall
){
$base-font-size: $baseFontSize;
$base-line-height: $baseLineSize;
$default-rhythm-border-style: solid;
@include establish-baseline;
	body{
		min-width: $totalWidth + $columnGap;
		.contenedor{
			width: $totalWidth;
			@include rhythm(0, 0, 0, 4);
			.portada{
				@include rhythm(2, 0, 0, 0, $baseFontSize);
				width: $totalWidth;
				.articulosLista{
					width: $totalWidth;
					.primero{
						width: $totalWidth;
						.textoArticulo{
							// @include baseline-grid-background;
							width: ($totalWidth - $columnGap * 2)/3;
							float:left;
							hgroup{
								@include trailing-border();
								@include margin-trailer();
								h3{
									@include rhythm(-1/4, 0, 0, 2/4, $baseFontSize);
									@include adjust-font-size-to($fontTituloSize, 5/4);
								}
								h4{
									@include adjust-font-size-to($fontSubtituloSize, 1);
								}
							}
							p{
								@include adjust-font-size-to($baseFontSize, 1);
								height: rhythm(5, $baseFontSize);
								-webkit-line-clamp: 5;
							}
						}
						.imagenArticulo{
							float:right;
							width:  (($totalWidth - $columnGap * 2) * 2/3) + $columnGap;
							height: $articleHeight + $columnGap;
							a{
								width:  (($totalWidth - $columnGap * 2) * 2/3) + $columnGap;
								height: $articleHeight + $columnGap;
							}
						}
					}
					article{
						width: ($totalWidth - $columnGap * 2)/3 - 1px;
						margin-left: $columnGap/2;
						padding-left: $columnGap/2;
						padding-top:$columnGap/2;
						padding-bottom:$columnGap/2;
						.textoArticulo{
							height: rhythm(5, $baseFontSize);
							h3{
								@include rhythm(2/3, 0, 0, 1/3, $baseFontSize);
								@include adjust-font-size-to($fontTitulo2Size);
							}
							h4{
								@include adjust-font-size-to($baseFontSize);
							}
						}
						.imagenArticulo{
							width:  ($totalWidth - $columnGap * 2)/3;
							height: (($totalWidth - $columnGap * 2)/3) * 9/16;
							a{
								width:  ($totalWidth - $columnGap * 2)/3;
								height: (($totalWidth - $columnGap * 2)/3) * 9/16;
							}
						}
					}
				}
				.portadaPie{
					@include adjust-font-size-to($fontSmall);
					@include rhythm(1, 0, 0, 1, $baseFontSize);
				}
			}
			.categoria{
				width: $totalWidth;
				@include leading-border();
				@include rhythm(0, 6/4, 3/4, 0, $baseFontSize);
				&:last-child{
					@include trailing-border();
					@include rhythm(0, 6/4, 3/4, 0, $baseFontSize);
				}
				.categoriaDescripcion{
					.descripcion{
						width: $descriptionWidth;
						hgroup{
							@include trailing-border();
							@include margin-trailer();
							h1{
								@include rhythm(-1/4, 0, 0, 2/4, $baseFontSize);
								@include adjust-font-size-to($fontTituloSize, 5/4);
							}
							h2{
								@include adjust-font-size-to($fontSubtituloSize);
							}
						}
						p{
							@include adjust-font-size-to($baseFontSize);
						}
					}
				}
				.categoriaArticulos{
					width: ($columnWidth * 3) + ($columnGap * 3);
					.articulosLista{
						width: ($columnWidth * 3) + ($columnGap * 3);
						@include rhythm(0, 0, 0, 1, $baseFontSize);
						article{
							margin-left: $columnGap/2;
							padding-left: $columnGap/2;
							width: $columnWidth - 1px;
							.textoArticulo{
								height: rhythm(6, $baseFontSize);
								h3{
									@include rhythm(2/3, 0, 0, 1/3, $baseFontSize);
									@include adjust-font-size-to($fontTitulo2Size, 4/4);
								}
								h4{
									@include adjust-font-size-to($baseFontSize);
								}
							}
							.imagenArticulo{
								width:  $columnWidth;
								height: ($columnWidth) *2/3;
								a{
									width:  $columnWidth;
									height: ($columnWidth) *2/3;
								}
							}
						}
					}
				}
				.categoriaPie{
					height: rhythm(1, $fontSmall);
					@include adjust-font-size-to($fontSmall);
				}
			}
		}
	}
}

//Tablets
@media (max-width: 989px) {
	@include blogResponsive(728px, 200px, 140px, 36px, 260px,
	$baseFontSize: 14px, $baseLineSize: 22px,
	$fontTituloSize: 26px, $fontSubtituloSize: 16px, $fontTitulo2Size: 20px, $fontSmall: 12px);
}
//Normal screens
@media (min-width: 990px) {
	@include blogResponsive(940px, 280px, 180px, 40px, 260px,
	$baseFontSize: 14px, $baseLineSize: 22px,
	$fontTituloSize: 26px, $fontSubtituloSize: 16px, $fontTitulo2Size: 20px, $fontSmall: 14px);
}
//Big screens
@media (min-width: 1240px) {
	@include blogResponsive(1170px, 330px, 220px, 60px, 260px,
	$baseFontSize: 16px, $baseLineSize: 24px,
	$fontTituloSize: 28px, $fontSubtituloSize: 18px, $fontTitulo2Size: 20px, $fontSmall: 14px);
}