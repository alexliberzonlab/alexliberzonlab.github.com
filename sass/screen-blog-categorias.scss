@import "compass/reset";
@import "compass/css3";
@import "compass/css3/user-interface";
@import "compass/utilities/general/clearfix";
@import "fonts/fontfaces";
@import "_general";
@import "_cabecerapaginaResponsive";
@import "_footerpaginaResponsive";
@import "_subnavNo";
@import "compass/typography/vertical_rhythm";

$fontTitulo:  "colaborativaMedium";
$fontSubtitulo: "DroidSansRegular";
$fontTitulo2: "colaborativasemibold";
$fontBase:  "DroidSansRegular";
$fontSmall: "DroidSansRegular";

@mixin imageStyleLight{
	@include box-sizing (border-box);
	background:white;
	border: 3px solid white;
	@include border-radius(2px, 2px);
	@include single-box-shadow(rgba(0,0,0,0.4), 0px, 0px, 3px, false, false);
}

@mixin imageStyleDark{
	@include box-sizing (border-box);
	background:silver;
	border: none;
	@include border-radius(2px, 2px);
	@include single-box-shadow(rgba(0,0,0,0.5), 0px, 0px, 10px, false, true);
}

@mixin templateSite($templateNombre, $colorFondo, $colorTexto, $colorBorde){
	html{
		height: 100%;
		body.#{$templateNombre} {
			background-color: $colorFondo;
			.cuerpoPagina{
				a:link, a:visited, a:active{
					text-decoration: none;
					color: $colorTexto;
				}
				margin-top: 135px;
				min-height: 400px;
				min-width:0px;
				.contenedor{
					margin-right: auto;
					margin-left: auto;
					@include box-sizing (border-box);
					.contenedorPoster{
						width:100%;
						display:block;
						overflow: hidden;
						height:1100px;
						position:absolute;
						left:0px;
						top:0px;
						z-index:-500;
						.posterProyecto{
							width:1500px;
							height:1100px;
							position:absolute;
							left:50%;
							top:0px;
							margin-left:-750px;
							z-index:-500;
							&.tiled{
								width:100%;
								height:100%;
								left:50%;
								top:0px;
								margin-left: -50%;
							}
						}
					}
					.categoria{
						border-color: $colorBorde;
						.descripcion{
							float:left;
							position: relative;
							margin-right:0px;
							padding-right:0px;
							hgroup{
								position: relative;
								h1{
									font-family: $fontTitulo;
									color: $colorTexto;
								}
								h2{
									font-family: $fontSubtitulo;
									color: $colorTexto;
								}
								border-color: $colorBorde;
							}
							p{
								font-family: $fontBase;
								color: $colorTexto;
							}
							.categoriaPie{
								span{
									font-family: $fontSmall;
									a:link, a:visited, a:active{
										color: rgba($colorTexto, 0.7);
										text-decoration: underline;
										&:hover{
											color: $colorTexto;
										}
									}
								}
							}
						}
						article{
							position: relative;
							float: left;
							&:hover{
								.imagenArticulo a{
									@include box-shadow(0px 0px 3px rgba(0,0,0,0.4), 0px 0px 1px 3px rgba(#1B70B9,0.3));
								}
							}
							h3{
								color: $colorTexto;
								font-family: $fontTitulo2;
							}
							h4{
								color: $colorTexto;
								font-family: $fontBase;
							}
							.imagenArticulo{
								@include box-sizing (border-box);
								a{
									@if $templateNombre == light {
										@include imageStyleLight;
									} @else {
										@include imageStyleDark;
									}
									@include transition(box-shadow .1s linear);
									display: block;
									margin: 0;
									padding: 0;
									overflow:hidden;
									background-position-x: 50%;
									@include background-size (cover);
								}
							}
						}
					}
				}
			}
		} 
	}
}

@mixin blogResponsive($totalWidth, $columnWidth, $columnGap, $numberColumns, $offset, $baseFontSize, $baseLineSize, $fontTituloSize, $fontSubtituloSize, $fontTitulo2Size, $fontSmall
){
	$base-font-size: $baseFontSize;
	$base-line-height: $baseLineSize;
	@include establish-baseline;
	body{
		min-width: $totalWidth + $columnGap;
		.contenedor{
			width: $totalWidth;
			.contenedorPoster{
			}
			.categoria{
				@include trailing-border();
				@include rhythm(1, 0, 0, 0, $baseFontSize);
				.descripcion{
					@include rhythm(1, 0, 0, 0, $baseFontSize);
					height: rhythm(12, $baseFontSize);
					width: $columnWidth * 2 + $columnGap;
					hgroup{
						@include trailing-border();
						@include rhythm(0, 0, 1.5, 1.5, $baseFontSize);
						h1{
							@include rhythm(-1/4, 0, 0, 2/4, $baseFontSize);
							@include adjust-font-size-to($fontTituloSize, 5/4);
						}
						h2{
							@include adjust-font-size-to($fontSubtituloSize, 1);
						}
					}
					p{
						@include adjust-font-size-to($baseFontSize, 1);
						height: rhythm(6, $baseFontSize);
						-webkit-line-clamp: 6;
					}
					.categoriaPie{
						span{
							@include adjust-font-size-to($fontSmall, 1);
						}
					}
				}
				article{
					@include rhythm(1, 0, 0, 1, $baseFontSize);
					height: rhythm(12, $baseFontSize);
					margin-left: $columnGap/2;
					padding-left: $columnGap/2;
					width: $columnWidth - 1px;
					.textoArticulo{
						height: rhythm(6, $baseFontSize);
						h3{
							@include rhythm(2/3, 0, 0, 1/3, $baseFontSize);
							@include adjust-font-size-to($fontTitulo2Size, 4/4);
						}
						h4{
							@include adjust-font-size-to($baseFontSize);
						}
					}
					.imagenArticulo{
						width:  $columnWidth;
						height: ($columnWidth) *2/3;
						a{
							width:  $columnWidth;
							height: ($columnWidth) *2/3;
						}
					}
					border-left: 1px solid #C9C9C9;
					&:first-child{
						border-left: none;
					}
					&:nth-child( #{$numberColumns}n+#{1+$offset}) {
						border-left: none;
						margin-left: 0px;
						padding-left: 0px;
					}
				}
			}
		}
	}
}

@include templateSite(dark, black, white, rgba(255,255,255,0.5));
@include templateSite(light, rgb(250,250,250), #393939, #C9C9C9);

//Tablets
@media (max-width: 989px) {
	@include blogResponsive(728px, 220px, 34px, 3, 1,
		$baseFontSize: 14px, $baseLineSize: 22px,
		$fontTituloSize: 26px, $fontSubtituloSize: 16px, $fontTitulo2Size: 20px, $fontSmall: 12px);
}
//Normal screens
@media (min-width: 990px) {
	@include blogResponsive(940px, 205px, 40px, 4, 2,
		$baseFontSize: 14px, $baseLineSize: 22px,
		$fontTituloSize: 26px, $fontSubtituloSize: 16px, $fontTitulo2Size: 20px, $fontSmall: 14px);
}
//Big screens
@media (min-width: 1240px) {
	@include blogResponsive(1170px, 255px, 50px, 4, 2,
		$baseFontSize: 16px, $baseLineSize: 24px,
		$fontTituloSize: 28px, $fontSubtituloSize: 18px, $fontTitulo2Size: 20px, $fontSmall: 14px);
}